(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{HsDK:function(e,a,t){"use strict";t.r(a);var r=t("q1tI"),n=t.n(r),o=(t("Y1Il"),t("y8nQ"),t("Vl3Y")),s=(t("5NDa"),t("5rEg")),l=(t("Pwec"),t("CtXQ")),c=(t("+L6B"),t("2/Rp")),i=(t("8L6m"),t("mF2h")),m=t("Wbzz"),u=t("vDqi"),p=t.n(u),d={border:"0",outline:"none"},g={headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTUxOGY3ZTZkNGE0ZjAwODFlZmUyNmMiLCJpYXQiOjE1ODI0MDM0NjJ9.SB_f4GDR9v41ntSeVs9pizRXTIr5ku4LRpWgthALb9A"}},f=o.a.create({name:"login"})((function(e){var a=e.form,t=Object(r.useState)(!1),u=t[0],f=t[1],h=Object(r.useState)(""),E=h[0],v=h[1],y=a.getFieldDecorator,b=a.getFieldsValue,w=(a.setFieldsValue,a.setFields),N=function(e){e.preventDefault();var a=b(),t={username:E,password:a.password};console.log(t),p.a.post("/api/v1/users/login",t,g).then((function(e){var a=e.data;console.log(a),Object(m.navigate)("/app/library")})).catch((function(e){console.log(e.response);var a={password:{value:t.password,errors:[new Error("Incorrect Password")]}};w(a)}))};return n.a.createElement(o.a,{onSubmit:u?N:function(e){e.preventDefault();var a=b();p.a.get("/api/v1/users/"+a.username,g).then((function(e){var t=e.data;f(!0),v(a.username),console.log(t)})).catch((function(e){var t=e.response;console.log(t);var r=a.username?404===t.status?"Username not registered":t.data.message:"Please enter your Username!",n={username:{value:a.username,errors:[new Error(r)]}};w(n)}))},className:"login-form"},n.a.createElement("h2",{id:"my-h2"},"SIGN IN"),n.a.createElement("div",null,u&&n.a.createElement(c.a,{icon:"caret-left",style:{border:0,float:"left"},onClick:function(){f(!1)}}),u?n.a.createElement("div",{className:"user-badge"},n.a.createElement("span",null,E)):n.a.createElement("div",{className:"empty"},n.a.createElement("a",{href:"http://localhost:3000/api/v1/users/auth/google"},n.a.createElement(l.a,{type:"google-square",theme:"filled",style:{fontSize:"21px",borderRadius:"4px"}})),n.a.createElement("a",{href:"http://localhost:3000/api/v1/users/auth/42"},n.a.createElement(i.b,{style:{width:19,height:19,marginTop:1}})),n.a.createElement("a",{href:"/api/v1/users/auth/facebook"},n.a.createElement(l.a,{type:"facebook",theme:"filled",style:{fontSize:"21px",borderRadius:"4px"}}))),u&&n.a.createElement(c.a,{icon:"caret-right",style:{border:0,float:"right"},onClick:N})),u?n.a.createElement(o.a.Item,null,y("password",{rules:[{required:!0,message:"Please enter your Password!"}]})(n.a.createElement(s.a,{type:"password",placeholder:"Password",style:d}))):n.a.createElement(o.a.Item,null,y("username",{rules:[{required:!0,message:"Please enter your Username!"}]})(n.a.createElement(s.a,{placeholder:"Username",style:d,onChange:function(e){e.preventDefault(),console.log(E),v(e.target.value)}}))),n.a.createElement(o.a.Item,null,u?n.a.createElement("a",{className:"login-form-forgot",onClick:function(){p.a.get("/api/v1/users/resetpassword/"+E).then((function(e){var a=e.data;console.log(a)})).catch((function(e){var a=e.response;console.log(a)}))}},"Forgot Password ?"):n.a.createElement(m.Link,{className:"login-form-forgot",to:"/signup"},"Sign Up ?"),n.a.createElement(c.a,{type:"primary",htmlType:"submit",className:"login-form-button"},u?"SIGN IN":"NEXT")))})),h=t("tBDR");a.default=function(){return n.a.createElement("div",{className:"form-background"},n.a.createElement("div",{className:"form-group"},n.a.createElement(h.a,{className:"img",size:"Medium"}),n.a.createElement("div",{className:"form-controls"},n.a.createElement(f,null))))}}}]);
//# sourceMappingURL=component---src-pages-signin-js-9ba51c9aa5960904e733.js.map
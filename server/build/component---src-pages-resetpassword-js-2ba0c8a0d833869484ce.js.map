{"version":3,"sources":["webpack:///./src/pages/resetpassword.js"],"names":["styleOutline","border","outline","ResetPasswordForm","create","name","form","token","getFieldDecorator","getFieldsValue","setFields","onSubmit","e","preventDefault","newPwd","axios","post","then","data","alert","catch","response","fields","password","value","errors","Error","error","message","className","id","Item","rules","required","Password","type","placeholder","style","htmlType","size"],"mappings":"8OAMMA,EAAe,CACnBC,OAAQ,EACRC,QAAS,QAoDLC,EAAoB,IAAKC,OAAO,CAAEC,KAAM,iBAApB,EAjDK,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,KAAMC,EAAY,EAAZA,MAC9BC,EAAiDF,EAAjDE,kBAAmBC,EAA8BH,EAA9BG,eAAgBC,EAAcJ,EAAdI,UAwB3C,OACE,uBAAMC,SAvBa,SAAAC,GACnBA,EAAEC,iBACF,IAAMC,EAASL,IACfK,EAAOP,MAAQA,EACfQ,IACGC,KADH,8BACuCF,GACpCG,MAAK,YAAc,EAAXC,KAEPC,MAAM,6BAEPC,OAAM,YAA6B,IAAdF,EAAa,EAAzBG,SAAYH,KACdI,EAAS,CACbC,SAAU,CACRC,MAAOV,EAAOS,SACdE,OAAQ,CAAC,IAAIC,MAAMR,EAAKS,MAAQT,EAAKS,MAAMJ,SAAW,OAG1Db,EAAUY,GACVJ,EAAKU,SAAWT,MAAMD,EAAKU,aAKDC,UAAU,cACtC,wBAAIC,GAAG,SAAP,kBACA,yBAAKD,UAAU,UACf,sBAAME,KAAN,KACGvB,EAAkB,WAAY,CAC7BwB,MAAO,CAAC,CAAEC,UAAU,EAAML,QAAS,iCADpCpB,CAGC,sBAAO0B,SAAP,CACEC,KAAK,WACLC,YAAY,WACZC,MAAOrC,MAIb,sBAAM+B,KAAN,KACE,uBAAQI,KAAK,UAAUG,SAAS,SAAST,UAAU,qBAAnD,cAYO,sBAAgB,IAAbtB,EAAY,EAAZA,MAChB,OACE,yBAAKsB,UAAU,mBACb,yBAAKA,UAAU,cACb,kBAAC,IAAD,CAAMA,UAAU,MAAMU,KAAK,WAC3B,yBAAKV,UAAU,iBACb,kBAAC1B,EAAD,CAAmBI,MAAOA","file":"component---src-pages-resetpassword-js-2ba0c8a0d833869484ce.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"../components/forms.css\";\nimport { Form, Input, Button } from \"antd\";\nimport Logo from \"../components/image\";\nimport axios from \"axios\";\n\nconst styleOutline = {\n  border: 0,\n  outline: \"none\",\n};\n\nconst ResetPasswordComponent = ({ form, token }) => {\n  const { getFieldDecorator, getFieldsValue, setFields } = form;\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newPwd = getFieldsValue();\n    newPwd.token = token;\n    axios\n      .post(`/api/v1/users/resetpassword`, newPwd)\n      .then(({ data }) => {\n        // console.log(data);\n        alert('Reset password success');\n      })\n      .catch(({ response: { data } }) => {\n        const fields = {\n          password: {\n            value: newPwd.password,\n            errors: [new Error(data.error ? data.error.password : \"\")],\n          },\n        };\n        setFields(fields);\n        data.message && alert(data.message);\n      });\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} className=\"login-form\">\n      <h2 id=\"my-h2\">Reset Password</h2>\n      <div className=\"empty\" />\n      <Form.Item>\n        {getFieldDecorator(\"password\", {\n          rules: [{ required: true, message: \"Please enter your Password!\" }],\n        })(\n          <Input.Password\n            type=\"password\"\n            placeholder=\"Password\"\n            style={styleOutline}\n          />\n        )}\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n          Reset\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n};\n\nconst ResetPasswordForm = Form.create({ name: \"resetpassword\" })(\n  ResetPasswordComponent\n);\n\nexport default ({ token }) => {\n  return (\n    <div className=\"form-background\">\n      <div className=\"form-group\">\n        <Logo className=\"img\" size=\"Medium\" />\n        <div className=\"form-controls\">\n          <ResetPasswordForm token={token} />\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"sourceRoot":""}